# Prefix key
set -g prefix C-s
unbind C-b

# Default terminal
set-option -g default-terminal "tmux-256color"

# Default shell
set-option -g default-shell $SHELL
set-option -g default-command $SHELL

# Start window index at 1
set-option -g base-index 1

# Start pane index at 1
set-window-option -g pane-base-index 1

# Renumber windows when a window is closed
set-option -g renumber-windows on

# Status bar
set-option -g status on
set-option -g status-interval 2

# Scrollback history limit
set-option -g history-limit 5000

# Message display time (milliseconds)
set-option -g display-time 1000

# Terminal overrides for compatibility
# True color support
set-option -ga terminal-overrides ",xterm*:Tc"
# Disable alternate screen buffer (preserve scrollback)
set-option -ga terminal-overrides ",xterm*:smcup@:rmcup@"
# rxvt-unicode specific
set-option -ga terminal-overrides ',rxvt-uni*:XT:Ms=\E]52;%p1%s;%p2%s\007'
# UTF-8 ambiguous width characters
set-option -ga terminal-overrides ',*:U8=0'
# Cursor shape changes
set-option -ga terminal-overrides ',*:Ss=\E[%p1%d q:Se=\E[2 q'

# RGB color support
set -sa terminal-overrides ',xterm-256color:RGB'
# Undercurl support (wavy underline)
set -sa terminal-overrides ',*:Smulx=\E[4::%p1%dm'
